summary: Update Foreign Property Details
description: |
  This endpoint enables you to update the details of a foreign property for a given National Insurance number, foreign property ID and tax year. Please note that this endpoint is only available for tax years starting from 2026â€“27 onwards.
  
  Customers can amend or remove the end date before the Post Finalisation Amendment (PFA) window closes. Any property with an end date added will no longer appear on the list of properties to report against for any subsequent tax year.
  
  ### Test data
  Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.
  
  | Header Value (Gov-Test-Scenario)| Scenario                                                                                                    |
  |---------------------------------|-------------------------------------------------------------------------------------------------------------|
  | N/A - DEFAULT                   | Simulates success response.                                                                                 |
  | NOT_FOUND                       | Simulates the scenario where no data is found.                                                              |
  | DUPLICATE_PROPERTY_NAME         | Simulates the scenario where the foreign property name already exists for the same country.                 |
  | PROPERTY_OUTSIDE_PERIOD         | Simulates the scenario where the foreign property is not within the income source period.                   |
  | PROPERTY_BUSINESS_CEASED        | Simulates the scenario where the foreign property business income source has ceased.                        |
  | OUTSIDE_AMENDMENT_WINDOW        | Simulates the scenario where request cannot be completed as it is outside the amendment window.             |
  | STATEFUL                        | Performs a stateful update.                                                                                 |


tags:
  - Foreign Property Details

parameters:
  - $ref: './common/pathParameters.yaml#/components/parameters/nino'
  - $ref: './common/pathParameters.yaml#/components/parameters/propertyId'
  - $ref: './common/pathParameters.yaml#/components/parameters/foreignPropertyDetailsTaxYear'
  - $ref: './common/headers.yaml#/components/parameters/acceptHeader'
  - $ref: './common/headers.yaml#/components/parameters/contentTypeJson'
  - $ref: './common/headers.yaml#/components/parameters/authorizationWriteScopeHeader'
  - $ref: './common/headers.yaml#/components/parameters/testScenarioHeader'

security:
  - User-Restricted:
      - write:self-assessment

requestBody:
  content:
    application/json:
      schema:
        $ref: './schemas/foreign_property_details_update/def1/request.json'
      example:
        $ref: './examples/foreign_property_details_update/def1/request.json'

responses:
  "204":
    description: No Content
    headers:
      X-CorrelationId:
        $ref: './common/headers.yaml#/components/parameters/correlationId'

  "400":
    description: Bad request
    headers:
      X-CorrelationId:
        $ref: './common/headers.yaml#/components/parameters/correlationId'
    content:
      application/json:
        schema:
          $ref: './schemas/error-response.yaml'
        examples:
          FORMAT_NINO:
            $ref: './common/errors.yaml#/components/examples/formatNino'
          FORMAT_PROPERTY_ID:
            $ref: './common/errors.yaml#/components/examples/formatPropertyId'
          FORMAT_TAX_YEAR:
            $ref: './common/errors.yaml#/components/examples/formatTaxYear'
          FORMAT_PROPERTY_NAME:
            $ref: './common/errors.yaml#/components/examples/formatPropertyName'
          FORMAT_END_DATE:
            $ref: './common/errors.yaml#/components/examples/formatEndDate'
          FORMAT_END_REASON:
            $ref: './common/errors.yaml#/components/examples/formatEndReason'
          RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
            $ref: './common/errors.yaml#/components/examples/ruleIncorrectOrEmptyBody'
          RULE_TAX_YEAR_RANGE_INVALID:
            $ref: './common/errors.yaml#/components/examples/ruleTaxYearRangeInvalid'
          RULE_TAX_YEAR_NOT_SUPPORTED:
            $ref: './common/errors.yaml#/components/examples/ruleTaxYearNotSupportedMinMax'
          RULE_DUPLICATE_PROPERTY_NAME:
            $ref: './common/errors.yaml#/components/examples/ruleDuplicatePropertyName'
          RULE_PROPERTY_OUTSIDE_PERIOD:
            $ref: './common/errors.yaml#/components/examples/rulePropertyOutsidePeriod'
          RULE_END_DATE_AFTER_TAX_YEAR_END:
            $ref: './common/errors.yaml#/components/examples/ruleEndDateAfterTaxYearEnd'
          RULE_PROPERTY_BUSINESS_CEASED:
            $ref: './common/errors.yaml#/components/examples/rulePropertyBusinessCeased'
          RULE_MISSING_END_DETAILS:
            $ref: './common/errors.yaml#/components/examples/ruleMissingEndDetails'
          RULE_INCORRECT_GOV_TEST_SCENARIO:
            $ref: './common/errors.yaml#/components/examples/ruleIncorrectGovTestScenario'
          RULE_OUTSIDE_AMENDMENT_WINDOW:
            $ref: './common/errors.yaml#/components/examples/ruleOutsideAmendmentWindow'

  "403":
    description: Forbidden
    headers:
      X-CorrelationId:
        $ref: './common/headers.yaml#/components/parameters/correlationId'
    content:
      application/json:
        schema:
          $ref: './schemas/error-response.yaml'
        examples:
          CLIENT_OR_AGENT_NOT_AUTHORISED:
            $ref: './common/errors.yaml#/components/examples/clientOrAgentNotAuthorised'

  "404":
    description: Not Found
    headers:
      X-CorrelationId:
        $ref: './common/headers.yaml#/components/parameters/correlationId'
    content:
      application/json:
        schema:
          $ref: './schemas/error-response.yaml'
        examples:
          MATCHING_RESOURCE_NOT_FOUND:
            $ref: './common/errors.yaml#/components/examples/notFound'
